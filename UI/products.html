{% extends "layout.html" %}
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='products.css') }}">
{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="text-light mb-4 text-center">ðŸ›  Manage Products</h2>

  <!-- Add Product -->
  <div class="card bg-dark p-4 mb-4 shadow-sm">
    <form method="POST" action="{{ url_for('products') }}" class="row g-3 align-items-center">
      <div class="col-md-3">
        <input name="name" class="form-control" placeholder="Product Name" required>
      </div>
      <div class="col-md-3">
        <input name="description" class="form-control" placeholder="Description">
      </div>
      <div class="col-md-2">
        <input name="price" type="number" step="0.01" class="form-control" placeholder="Price" required>
      </div>
      <div class="col-md-2">
        <input name="stock_qty" type="number" class="form-control" placeholder="Stock" required>
      </div>
      <div class="col-md-2">
        <button type="submit" class="btn btn-success w-100">Add Product</button>
      </div>
    </form>
  </div>

  <!-- Product List -->
  <div class="card bg-dark p-3 shadow-sm">
    <table class="table table-dark table-striped table-hover align-middle mb-0">
      <thead class="table-light text-dark">
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Price</th>
          <th>Stock</th>
          <th class="text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for p in products %}
        <tr>
          <form method="POST" action="{{ url_for('products', id=p.id) }}">
            <td><input name="name" value="{{ p.name }}" class="form-control bg-transparent text-light border-0"></td>
            <td><input name="description" value="{{ p.description }}" class="form-control bg-transparent text-light border-0"></td>
            <td><input name="price" type="number" step="0.01" value="{{ p.price }}" class="form-control bg-transparent text-light border-0"></td>
            <td><input name="stock_qty" type="number" value="{{ p.stock_qty }}" class="form-control bg-transparent text-light border-0"></td>
            <td class="text-center">
              <button type="submit" class="btn btn-sm btn-warning me-1">Update</button>
              <a href="{{ url_for('products', id=p.id) }}" class="btn btn-sm btn-danger">Delete</a>
            </td>
          </form>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
